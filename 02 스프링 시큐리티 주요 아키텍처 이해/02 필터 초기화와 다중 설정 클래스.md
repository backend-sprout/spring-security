# í•„í„° ì´ˆê¸°í™”ì™€ ë‹¤ì¤‘ ì„¤ì • í´ë˜ìŠ¤ 

![image](https://user-images.githubusercontent.com/50267433/152547841-c2559cca-e5d0-4df8-80d6-d57abc5374b7.png)
 
* ì„¤ì • í´ë˜ìŠ¤ ë³„ë¡œ ë³´ì•ˆ ê¸°ëŠ¥ì„ ê°ê° ì‘ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤.     
* ì„¤ì • í´ë˜ìŠ¤ ë³„ë¡œ RequestMatcher ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆê³ , ì´ê²ƒì´ ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ì¤€ì´ëœë‹¤.      
    * ì™¼ìª½ ì„¤ì • í´ë˜ìŠ¤ì—ì„œ http.antMatcher(`"/admin/**"`) ë¥¼ ì„¤ì •í–ˆë‹¤ê³  ê°€ì •í•œë‹¤.   
    * `/admin` ì´ë¼ëŠ” ê²½ë¡œë¡œ ì ‘ê·¼í•˜ë©´ ì™¼ìª½ ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©
    * `/admin` ì´ì™¸ì˜ ê²½ë¡œë¡œ ì ‘ê·¼í•˜ë©´ ì˜¤ë¥¸ìª½ ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©      
* ì„¤ì • í´ë˜ìŠ¤ ë³„ë¡œ í•„í„°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.     
* FilterChainProxyê°€ ê° í•„í„°ë“¤ì„ ê°€ì§€ê³  ìˆë‹¤.     
* ìš”ì²­ì— ë”°ë¼, RequestMatcherì™€ ë§¤ì¹­ë˜ëŠ” í•„í„°ê°€ ì‘ë™í•˜ë„ë¡ í•œë‹¤.  

**ì´ ê°™ì€ ë™ì‘ì´ ì–´ë–»ê²Œ ê°€ëŠ¥í•œ ê²ƒì¼ê¹Œ? ğŸ¤”**   
ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ì„¤ì • í´ë˜ìŠ¤ëŠ” ìì‹ ì˜ ì„¤ì • ì •ë³´ë¥¼ ë‹´ëŠ” SecurityFiterChain ê°ì²´ë¥¼ ë§Œë“ ë‹¤.     
ì¦‰, ê°ê°ì˜ ì„¤ì • í´ë˜ìŠ¤ëŠ” ìê¸° ìì‹ ê³¼ SecurityFiterChain ê°ì²´ê°€ ìƒì„±í•˜ëŠ” ê²ƒì´ë‹¤.  

**FilterChainProxy**
```java
	private List<SecurityFilterChain> filterChains;
```
```java
	private List<Filter> getFilters(HttpServletRequest request) {
		int count = 0;
		for (SecurityFilterChain chain : this.filterChains) {
			if (logger.isTraceEnabled()) {
				logger.trace(LogMessage.format("Trying to match request against %s (%d/%d)", chain, ++count,
						this.filterChains.size()));
			}
			if (chain.matches(request)) {
				return chain.getFilters();
			}
		}
		return null;
	}
```
FilterChainProxy ëŠ” filterChains ë¼ëŠ” í•„ë“œë¥¼ í†µí•´ ì´ì™€ ê°™ì€ FilterChainsë“¤ì„ ê´€ë¦¬í•˜ê³    
ì´ë•Œ, SecurityFiterChain ê°ì²´ì˜ `matches(request)`ë¥¼ ì´ìš©í•˜ì—¬         
SecurityFiterChain ì— ë‹´ê¸´ RequestMacherì™€ Request ê°ì²´ì˜ ë°ì´í„°(URL ê²½ë¡œ)ê°€ ë§ëŠ”ì§€ ê²€ì¦í•œë‹¤.      
       
ì´í›„, SecurityFiterChain ì— ë‹´ê¸´ í•„í„°ë“¤ì„ ë°˜í™˜í•˜ëŠ”ë°         
ì´ë¥¼ í†µí•´, ê°ê°ì˜ SecurityFiterChain(ì„¤ì • íŒŒì¼) ë§ˆë‹¤ í•„í„°ë¥¼ ë‹¤ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.      
